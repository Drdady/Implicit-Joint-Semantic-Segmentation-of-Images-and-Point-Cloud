[1] 2018.12.21
optimizer='adadelta'

callbacks = [EarlyStopping(monitor='val_loss', patience=20),
                 ModelCheckpoint(filepath=os.path.join(save_weights_path, 'best_model.h5'), monitor='val_loss',
                                 save_best_only=True),
                 ReduceLROnPlateau(monitor='val_loss', factor=0.2, patience=10, min_lr=0.001),
                 TensorBoard(log_dir=os.path.join('/home/fangwen/ShuFangwen/source/image-segmentation-keras/board'),
                             histogram_freq=0, write_graph=True, write_images=True)]

m.fit_generator(G, steps_per_epoch=1513//train_batch_size, callbacks=callbacks,
                validation_data=G2, validation_steps=50, epochs=10000)

#----------------------------------------------------------------------------------------------------------------------#